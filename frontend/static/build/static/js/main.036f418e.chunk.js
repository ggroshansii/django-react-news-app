(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{55:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(33),r=n.n(s),o=n(7),i=(n(40),n(41),n(54),n(55),n(12)),l=n(2),d=n.n(l),b=n(4),j=n(6),u=(n(57),n(3)),m=n.n(u),h=(n(58),n(15)),p=n(0);function g(e){var t,n,a,c,s,r=new Date,i=[r.getMonth(),r.getDate(),r.getFullYear()],l=i[1],j=i[2];function u(){return(u=Object(b.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")},body:JSON.stringify({})},t.next=3,fetch("/rest-auth/logout/",n);case 3:if(a=t.sent){t.next=8;break}console.log(a),t.next=15;break;case 8:return console.log(a),t.next=11,a.json();case 11:t.sent,m.a.remove("Authorization"),e.setIsAuth(!1),e.setIsAdmin(!1);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}switch(i[0]+1){case 1:t="January";break;case 2:t="February";break;case 3:t="March";break;case 4:t="April";break;case 5:t="May";break;case 6:t="June";break;case 7:t="July";break;case 8:t="August";break;case 9:t="September";break;case 10:t="October";break;case 11:t="November";break;case 12:t="December"}return!0===e.isAuth?(a=Object(p.jsx)("li",{className:"nav-item",onClick:function(){return u.apply(this,arguments)},children:Object(p.jsx)(o.b,{className:"nav-link",to:"/logout",children:"LOGOUT"})}),!0===e.isAdmin?(console.log("ADMIN FIRED",e.isAdmin),s=Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(o.b,{className:"nav-link",to:"/admin/portal",children:"ADMIN PORTAL"})})})):c=Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(o.b,{className:"nav-link",to:"/profile",children:"PROFILE"})})):n=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(o.b,{className:"nav-link",to:"/login",children:"LOGIN"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(o.b,{className:"nav-link",to:"/registration",children:"REGISTRATION"})})]}),Object(p.jsxs)("div",{className:"header-container",children:[Object(p.jsxs)("div",{className:"upper-header-container",children:[Object(p.jsx)("h1",{className:"newspaper-name",onClick:function(){},children:Object(p.jsx)(o.b,{className:"newspaper-headin-navlink",to:"/",children:"The Gartholomew Gazette    "})}),Object(p.jsxs)("h2",{className:"header-date",children:[t,", ",l," ",j," "]}),Object(p.jsxs)("div",{className:"header-social-container",children:[Object(p.jsx)("a",{href:"https://github.com/ggroshansii",className:"social-btn github-header-btn",children:Object(p.jsx)(h.a,{})}),Object(p.jsx)("a",{href:"https://twitter.com/codingforsci",className:"social-btn twitter-header-btn",children:Object(p.jsx)(h.d,{})}),Object(p.jsx)("a",{href:"https://ggroshansii.github.io/",className:"social-btn website-header-btn",children:Object(p.jsx)(h.b,{})}),Object(p.jsx)("a",{href:"https://linkedin.com/in/garthgroshansii",className:"social-btn linkedin-header-btn",children:Object(p.jsx)(h.c,{})})]})]}),Object(p.jsx)("div",{className:"collpase navbar-collapse ",id:"navbarResponsive",children:Object(p.jsxs)("ul",{className:"navbar-nav nav-container",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(o.b,{className:"nav-link",style:"",to:"/",children:"HOME"})}),c,n,s,a]})})]})}function O(){return Object(p.jsx)("div",{})}var x=n(5),f=(n(70),n(8));var y=Object(f.h)((function(e){function t(){return(t=Object(b.a)(d.a.mark((function t(){var n,a,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={title:e.title,body:e.body,category:e.category,status:"SBMT"},a={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")},body:JSON.stringify(n)},t.next=4,fetch("/api/articles/mydrafts/".concat(e.id,"/"),a);case 4:if(!1!==(c=t.sent).ok){t.next=9;break}console.log("SUBMIT FOR REVIEW FAILED",c),t.next=13;break;case 9:return t.next=11,c.json();case 11:s=t.sent,console.log("Success for submit for review",s);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(p.jsx)("div",{children:Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"ownblog-card-container",children:[Object(p.jsx)("div",{className:"blog-card-img-container",children:Object(p.jsx)("img",{className:"blog-card-img",src:e.image,alt:""})}),Object(p.jsxs)("div",{className:"blog-card-text-container",children:[Object(p.jsx)("p",{className:"blog-card-category",children:e.category}),Object(p.jsx)("h2",{className:"blog-card-title",children:e.title}),Object(p.jsx)("p",{className:"blog-card-author",children:e.author})]}),Object(p.jsxs)("div",{className:"ownblog-edit-btn-container",children:[Object(p.jsx)("button",{className:"btn btn-warning ownblog-btn",onClick:function(){console.log("hey"),e.history.push("/account/blogs/detail/".concat(e.id))},children:"Edit"}),Object(p.jsx)("button",{className:"btn btn-success ownblog-btn",value:e.id,onClick:function(){!function(){t.apply(this,arguments)}(),e.removeBlog(e.id,e.OwnBlogsState,e.setOwnBlogsState),e.history.push("/account/blogs/drafts/")},children:"Final Submit"})]})]})})})}));n(71);function v(e){var t=Object(a.useState)([]),n=Object(j.a)(t,2),c=n[0],s=n[1];function r(){return(r=Object(b.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")}},e.next=3,fetch("/api/articles/mydrafts/",t);case 3:if(!1!==(n=e.sent).ok){e.next=8;break}console.log("FAILED",n),e.next=12;break;case 8:return e.next=10,n.json();case 10:a=e.sent,s(a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]),0===c.length?Object(p.jsx)("h1",{className:"no-current-drafts-heading",children:"No Current Drafts"}):Object(p.jsx)("div",{className:"ownblogs-list-container",children:c.map((function(t){return Object(p.jsx)(y,Object(x.a)(Object(x.a)({},t),{},{removeBlog:e.removeBlog,setOwnBlogsState:s,OwnBlogsState:c}))}))})}n(72);var N=Object(f.h)((function(e){var t=Object(a.useState)({id:null,author:"",title:"",body:"",category:"",image:"",status:""}),n=Object(j.a)(t,2),c=n[0],s=n[1],r=Object(f.g)(),o=e.match.params.id;function i(){return(i=Object(b.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")}},e.next=3,fetch("/api/articles/mydrafts/".concat(o),t);case 3:if(!1!==(n=e.sent).ok){e.next=8;break}console.log("Detail Failed",n),e.next=13;break;case 8:return e.next=10,n.json();case 10:a=e.sent,console.log("success",a),s({id:a.id,author:a.author,title:a.title,body:a.body,image:"",category:a.category,status:a.status});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){var t=Object(x.a)({},c);t[e.target.id]=e.target.value,s(t),console.log(c.image)}function u(){return(u=Object(b.a)(d.a.mark((function e(t){var n,a,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("id",c.id),n.append("author",c.author),n.append("title",c.title),n.append("body",c.body),n.append("category",c.category),n.append("status",c.status),""!==c.image&&n.append("image",c.image),a={method:"PUT",headers:{"X-CSRFToken":m.a.get("csrftoken")},body:n},e.next=12,fetch("/api/articles/mydrafts/".concat(o,"/"),a);case 12:if(!1!==(s=e.sent).ok){e.next=17;break}console.log("EDIT POST FAILED",s),e.next=22;break;case 17:return e.next=19,s.json();case 19:i=e.sent,console.log("EDIT SUCCESS",i),r.push("/account/blogs/drafts");case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),Object(p.jsxs)("div",{className:"blogform-container",children:[Object(p.jsx)("h2",{className:"blogform-heading mb-3",children:"Edit Blog:"}),Object(p.jsxs)("form",{className:"form-control",onSubmit:function(e){return u.apply(this,arguments)},children:[Object(p.jsxs)("div",{className:"form-group mt-2",children:[Object(p.jsx)("label",{htmlFor:"title",children:"Title"}),Object(p.jsx)("input",{className:"form-control mt-1",type:"text",id:"title",placeholder:"Enter Title..",onChange:l,value:c.title,name:"title"})]}),Object(p.jsxs)("div",{className:"form-group mt-2",children:[Object(p.jsx)("label",{htmlFor:"body",children:"Body"}),Object(p.jsx)("textarea",{className:"form-control mt-1",id:"body",placeholder:"Enter Body..",onChange:l,value:c.body,name:"body"})]}),Object(p.jsxs)("div",{className:"form-group mt-2",children:[Object(p.jsx)("label",{htmlFor:"image",children:"Image"}),Object(p.jsx)("input",{className:"form-control mt-1",type:"file",id:"image",onChange:function(e){var t=e.target.files[0];Object(x.a)({},c)[e.target.id]=t,(new FileReader).readAsDataURL(t)},name:"image"})]}),Object(p.jsxs)("div",{className:"form-group mt-2",children:[Object(p.jsx)("label",{htmlFor:"category",children:"Category"}),Object(p.jsxs)("select",{className:"form-control mt-1",id:"category",onChange:l,value:c.category,name:"category",children:[Object(p.jsx)("option",{value:"General Science",children:"General Science"}),Object(p.jsx)("option",{value:"Geology",children:"Geology"}),Object(p.jsx)("option",{value:"Soil Science",children:"Soil Science"}),Object(p.jsx)("option",{value:"Hydrology",children:"Hydrology"}),Object(p.jsx)("option",{value:"Mineralogy",children:"Mineralology"}),Object(p.jsx)("option",{value:"Petrology",children:"Petrology"}),Object(p.jsx)("option",{value:"Sedimentology",children:"Sedimentology"}),Object(p.jsx)("option",{value:"Volcanology",children:"Volcanology"}),Object(p.jsx)("option",{value:"General Tectonics",children:"General Tectonics"})]})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary btn-goldenrod blogform-btn mt-3",children:"Submit New Draft"})]})]})}));n(73);function k(e){return Object(p.jsx)("div",{onClick:function(){e.updatePopularityScore(e.id,e)},children:Object(p.jsx)(o.b,{to:"/blogs/detail/".concat(e.id),className:"nav-link-container",children:Object(p.jsxs)("div",{className:"blog-card-container",children:[Object(p.jsx)("div",{className:"blog-card-img-container",children:Object(p.jsx)("img",{className:"blog-card-img",src:e.image,alt:""})}),Object(p.jsxs)("div",{className:"blog-card-text-container",children:[Object(p.jsx)("p",{className:"blog-card-category",children:e.category}),Object(p.jsx)("h2",{className:"blog-card-title",children:e.title}),Object(p.jsxs)("p",{className:"blog-card-author",children:["By: ",e.author]})]})]})})})}n(74);function S(e){var t=e.filteredBlogs();return console.log(t),Object(p.jsx)("div",{className:"blog-post-list-container",children:t.map((function(t){return Object(p.jsx)(k,Object(x.a)({updatePopularityScore:e.updatePopularityScore},t))}))})}n(75),n(76);function w(e){return Object(p.jsx)(o.b,{to:"/blogs/detail/".concat(e.id),className:"aside-item-navlink",children:Object(p.jsxs)("div",{className:"aside-item-container",children:[Object(p.jsx)("div",{className:"aside-item-img-container",children:Object(p.jsx)("img",{className:"aside-item-img",src:e.image,alt:""})}),Object(p.jsxs)("div",{className:"aside-item-text-container",children:[Object(p.jsxs)("p",{className:"aside-item-category",children:["#",e.category]}),Object(p.jsx)("h2",{className:"aside-item-title",children:e.title}),Object(p.jsx)("p",{className:"aside-item-author",children:e.author})]})]})})}function T(e){var t=Object(i.a)(e.currentBlogs).sort((function(e,t){return e.popularity_score>t.popularity_score?-1:e.popularity_score<t.popularity_score?1:0}));return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"aside-container",children:[Object(p.jsx)("h2",{className:"aside-heading",children:"Popular Posts"}),t.map((function(e){return Object(p.jsx)(w,Object(x.a)({},e))}))]})})}n(77);function C(){var e=Object(a.useState)({title:"",body:"",image:null,category:"General Science"}),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(),r=Object(j.a)(s,2),o=(r[0],r[1]);function i(e){var t=Object(x.a)({},n);t[e.target.id]=e.target.value,c(t),console.log(n)}function l(){return(l=Object(b.a)(d.a.mark((function e(t){var a,s,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),alert("hey"),(a=new FormData).append("title",n.title),a.append("body",n.body),a.append("image",n.image),a.append("category",n.category),s={method:"POST",headers:{"X-CSRFToken":m.a.get("csrftoken")},body:a},e.next=10,fetch("/api/articles/",s);case 10:return r=e.sent,e.next=13,r.json();case 13:o=e.sent,!1===r.ok?(console.log("r",r),console.log("d",o)):(console.log("SUCCESS",o),c((function(){return{title:"",body:"",image:null,category:"General Science"}})));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)("div",{className:"blogform-container",children:[Object(p.jsx)("h2",{className:"blogform-heading mb-3",children:"Submit a Blog:"}),Object(p.jsxs)("form",{className:"form-control",onSubmit:function(e){return l.apply(this,arguments)},children:[Object(p.jsxs)("div",{className:"form-group mt-2",children:[Object(p.jsx)("label",{htmlFor:"title",children:"Title"}),Object(p.jsx)("input",{className:"form-control mt-1",type:"text",id:"title",placeholder:"Enter Title..",onChange:i,value:n.title,name:"title"})]}),Object(p.jsxs)("div",{className:"form-group mt-2",children:[Object(p.jsx)("label",{htmlFor:"body",children:"Body"}),Object(p.jsx)("textarea",{className:"form-control mt-1",id:"body",placeholder:"Enter Body..",onChange:i,value:n.body,name:"body"})]}),Object(p.jsxs)("div",{className:"form-group mt-2",children:[Object(p.jsx)("label",{htmlFor:"image",children:"Image"}),Object(p.jsx)("input",{className:"form-control mt-1",type:"file",id:"image",onChange:function(e){var t=Object(x.a)({},n),a=e.target.files[0];t.image=a,c(t);var s=new FileReader;s.onloadend=function(){o(s.result)},s.readAsDataURL(a)},name:"image"})]}),Object(p.jsxs)("div",{className:"form-group mt-2",children:[Object(p.jsx)("label",{htmlFor:"category",children:"Category"}),Object(p.jsxs)("select",{className:"form-control mt-1",id:"category",onChange:i,value:n.category,name:"category",children:[Object(p.jsx)("option",{value:"General Science",children:"General Science"}),Object(p.jsx)("option",{value:"Geology",children:"Geology"}),Object(p.jsx)("option",{value:"Soil Science",children:"Soil Science"}),Object(p.jsx)("option",{value:"Hydrology",children:"Hydrology"}),Object(p.jsx)("option",{value:"Mineralogy",children:"Mineralology"}),Object(p.jsx)("option",{value:"Petrology",children:"Petrology"}),Object(p.jsx)("option",{value:"Sedimentology",children:"Sedimentology"}),Object(p.jsx)("option",{value:"Volcanology",children:"Volcanology"}),Object(p.jsx)("option",{value:"General Tectonics",children:"General Tectonics"})]})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary btn-goldenrod blogform-btn mt-3",children:"Submit New Draft"})]})]})}n(78);function A(e){var t=new Set;function n(t){e.setFilter(t.target.value)}return e.currentBlogs.map((function(e){t.add(e.category)})),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"header-category-container",children:[Object(p.jsx)("button",{className:"header-category",value:null,onClick:n,children:"All"}),Object(i.a)(t).map((function(e){return Object(p.jsxs)("button",{className:"header-category",value:e,onClick:n,children:["#",e]})}))]}),Object(p.jsx)("div",{className:"main-container container",children:Object(p.jsxs)("div",{className:"row gx-5",children:[Object(p.jsx)("div",{className:"col",children:Object(p.jsx)(S,{currentBlogs:e.currentBlogs,filteredBlogs:e.filteredBlogs,updatePopularityScore:e.updatePopularityScore})}),Object(p.jsx)("div",{className:"col",children:Object(p.jsx)(T,{currentBlogs:e.currentBlogs})})]})})]})}n(79);var E=function(e){var t=Object(a.useState)({alias:"",avatar:null}),n=Object(j.a)(t,2),c=(n[0],n[1],Object(a.useState)("")),s=Object(j.a)(c,2);return s[0],s[1],Object(p.jsxs)("div",{className:"profile-container text-center row",children:[Object(p.jsxs)("div",{className:"profile-details-container",children:[Object(p.jsx)("h2",{className:"profile-details-heading",children:"Profile:"}),Object(p.jsx)("h3",{className:"profile-details-subheading mt-3",children:"Username: "}),Object(p.jsx)("p",{children:e.userDetails.username}),Object(p.jsx)("h3",{className:"profile-details-subheading",children:"Email: "}),Object(p.jsx)("p",{children:e.userDetails.email})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)(o.b,{to:"/account/blogs/create",children:Object(p.jsx)("button",{className:"btn btn-primary profile-btn btn-goldenrod",children:"Submit New Blog!"})}),Object(p.jsx)(o.b,{to:"/account/blogs/drafts",children:Object(p.jsx)("button",{className:"btn btn-primary profile-btn btn-goldenrod mt-2",children:"My Drafts"})})]})]})};n(80);function F(e){var t=Object(a.useState)({username:"",email:"",password1:"",password2:""}),n=Object(j.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(null),o=Object(j.a)(r,2),i=o[0],l=o[1];function u(e){var t=Object(x.a)({},c);t[e.target.id]=e.target.value,s(t)}function h(){return(h=Object(b.a)(d.a.mark((function t(n){var a,s,r,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),c.password1===c.password2){t.next=5;break}l(!0),t.next=23;break;case 5:return a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")},body:JSON.stringify(c)},t.next=8,fetch("/rest-auth/registration/",a);case 8:if(!1!==(s=t.sent).ok){t.next=18;break}return t.next=12,s.json();case 12:(r=t.sent).username&&r.username.map((function(e){return console.log(e)})),r.email&&r.email.map((function(e){return console.log(e)})),r.password1&&r.password1.map((function(e){return console.log(e)})),t.next=23;break;case 18:return t.next=20,s.json();case 20:o=t.sent,m.a.set("Authorization","Token: ".concat(o.key)),e.setIsAuth(!0);case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.isAuth?Object(p.jsx)(f.a,{to:"/profile"}):Object(p.jsx)("div",{className:"registration-container",children:Object(p.jsxs)("form",{onSubmit:function(e){return h.apply(this,arguments)},children:[Object(p.jsx)("h2",{className:"registration-heading",children:"Register:"}),Object(p.jsxs)("div",{className:"form-group mt-4",children:[Object(p.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(p.jsx)("input",{id:"username",className:"form-control mt-2",type:"text",placeholder:"Enter Username..",onChange:u,value:c.username})]}),Object(p.jsxs)("div",{className:"form-group mt-3",children:[Object(p.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(p.jsx)("input",{id:"email",className:"form-control mt-2",type:"email",placeholder:"Enter Email...",onChange:u,value:c.email})]}),Object(p.jsxs)("div",{className:"form-group mt-3",children:[Object(p.jsx)("label",{htmlFor:"password1",children:"Password:"}),Object(p.jsx)("input",{id:"password1",className:"form-control mt-2",type:"password",placeholder:"Enter Password...",onChange:u,value:c.password1})]}),Object(p.jsxs)("div",{className:"form-group mt-3",children:[Object(p.jsx)("label",{htmlFor:"password2",children:"Confirm Password:"}),Object(p.jsx)("input",{id:"password2",className:"form-control mt-2",type:"password",placeholder:"Enter Password...",onChange:u,value:c.password2}),i&&Object(p.jsx)("span",{className:"text-danger",children:"Passwords do not match"})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-success btn-goldenrod mt-4",children:"Register"})]})})}n(81);var B=function(e){var t=Object(a.useState)({username:"",password:""}),n=Object(j.a)(t,2),c=n[0],s=n[1];function r(e){var t=Object(x.a)({},c);t[e.target.id]=e.target.value,s(t)}function o(){return(o=Object(b.a)(d.a.mark((function t(n){var a,s,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")},body:JSON.stringify(c)},t.next=4,fetch("/rest-auth/login/",a);case 4:if(!1!==(s=t.sent).ok){t.next=11;break}return t.next=8,s.json();case 8:t.sent,t.next=16;break;case 11:return t.next=13,s.json();case 13:r=t.sent,m.a.set("Authorization","Token ".concat(r.key)),e.setIsAuth(!0);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.isAuth?Object(p.jsx)(f.a,{to:"/"}):Object(p.jsx)("div",{className:"login-container",children:Object(p.jsxs)("form",{onSubmit:function(e){return o.apply(this,arguments)},children:[Object(p.jsx)("h2",{className:"login-heading",children:"Login:"}),Object(p.jsxs)("div",{className:"form-group mt-3",children:[Object(p.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(p.jsx)("input",{value:c.username,className:"form-control mt-1",type:"text",id:"username",onChange:r,placeholder:"Enter Username.."})]}),Object(p.jsxs)("div",{className:"form-group mt-2",children:[Object(p.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(p.jsx)("input",{value:c.password,className:"form-control mt-1",type:"password",id:"password",onChange:r,placeholder:"Enter Password.."})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary mt-3 login-btn btn-goldenrod",children:"Submit"})]})})};n(82);var P=Object(f.h)((function(e){var t=Object(a.useState)({id:null,author:"",title:"",body:"",category:"",image:"",status:""}),n=Object(j.a)(t,2),c=n[0],s=n[1],r=e.match.params.id;function o(){return(o=Object(b.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")}},e.next=3,fetch("/api/articles/".concat(r,"/"),t);case 3:if(!1!==(n=e.sent).ok){e.next=8;break}console.log("Detail Failed",n),e.next=13;break;case 8:return e.next=10,n.json();case 10:a=e.sent,console.log("success",a),s({id:a.id,author:a.author,title:a.title,body:a.body,category:a.category,image:a.image,status:a.status});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),Object(p.jsx)("div",{children:Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"blog-detail-card-container",children:[Object(p.jsx)("div",{className:"blog-card-img-container",children:Object(p.jsx)("img",{className:"blog-card-img",src:c.image,alt:""})}),Object(p.jsxs)("div",{className:"blog-card-text-container",children:[Object(p.jsx)("p",{className:"blog-card-category",children:c.category}),Object(p.jsx)("h2",{className:"blog-card-title",children:c.title}),Object(p.jsx)("p",{children:c.body}),Object(p.jsxs)("p",{className:"blog-card-author",children:["Author:",c.author]})]})]})})})}));var R=Object(f.h)((function(e){function t(){return(t=Object(b.a)(d.a.mark((function t(){var n,a,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={title:e.title,body:e.body,category:e.category,status:"RJT"},a={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")},body:JSON.stringify(n)},t.next=4,fetch("/api/articles/admin/ALL/".concat(e.id,"/"),a);case 4:if(!1!==(c=t.sent).ok){t.next=9;break}console.log("REJECTED FAILED",c),t.next=14;break;case 9:return t.next=11,c.json();case 11:s=t.sent,console.log("SUCCESS REJECTED",s),e.removeBlog(e.id,e.adminArticles,e.setAdminArticles);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function n(){return(n=Object(b.a)(d.a.mark((function t(){var n,a,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={title:e.title,body:e.body,category:e.category,status:"PBLH"},a={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")},body:JSON.stringify(n)},t.next=4,fetch("/api/articles/admin/ALL/".concat(e.id,"/"),a);case 4:if(!1!==(c=t.sent).ok){t.next=9;break}console.log("PUBLISHED FAILED",c),t.next=14;break;case 9:return t.next=11,c.json();case 11:s=t.sent,console.log("SUCCESS PUBLISHED",s),e.removeBlog(e.id,e.adminArticles,e.setAdminArticles);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(p.jsx)("div",{children:Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"ownblog-card-container",children:[Object(p.jsx)("div",{className:"blog-card-img-container",children:Object(p.jsx)("img",{className:"blog-card-img",src:e.image,alt:""})}),Object(p.jsxs)("div",{className:"blog-card-text-container",children:[Object(p.jsx)("p",{className:"blog-card-category",children:e.category}),Object(p.jsx)("h2",{className:"blog-card-title",children:e.title}),Object(p.jsx)("p",{className:"blog-card-author",children:e.author})]}),Object(p.jsxs)("div",{className:"ownblog-edit-btn-container",children:[Object(p.jsx)("button",{className:"btn btn-danger ownblog-btn",onClick:function(){return t.apply(this,arguments)},children:"Reject"}),Object(p.jsx)("button",{className:"btn btn-success ownblog-btn",onClick:function(){return n.apply(this,arguments)},children:"Publish"})]})]})})})}));var D=Object(f.h)((function(e){function t(){return(t=Object(b.a)(d.a.mark((function t(){var n,a,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={title:e.title,body:e.body,category:e.category,status:"SBMT"},a={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")},body:JSON.stringify(n)},t.next=4,fetch("/api/articles/admin/ALL/".concat(e.id,"/"),a);case 4:if(!1!==(c=t.sent).ok){t.next=9;break}console.log("REJECTED FAILED",c),t.next=14;break;case 9:return t.next=11,c.json();case 11:s=t.sent,console.log("SUCCESS REJECTED",s),e.removeBlog(e.id,e.adminArticles,e.setAdminArticles);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(p.jsx)("div",{children:Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"ownblog-card-container",children:[Object(p.jsx)("div",{className:"blog-card-img-container",children:Object(p.jsx)("img",{className:"blog-card-img",src:e.image,alt:""})}),Object(p.jsxs)("div",{className:"blog-card-text-container",children:[Object(p.jsx)("p",{className:"blog-card-category",children:e.category}),Object(p.jsx)("h2",{className:"blog-card-title",children:e.title}),Object(p.jsx)("p",{className:"blog-card-author",children:e.author})]}),Object(p.jsx)("div",{className:"ownblog-edit-btn-container",children:Object(p.jsx)("button",{className:"btn btn-danger ownblog-btn",onClick:function(){return t.apply(this,arguments)},children:"Reverse Rejection"})})]})})})}));var L=Object(f.h)((function(e){function t(){return(t=Object(b.a)(d.a.mark((function t(){var n,a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={title:e.title,body:e.body,category:e.category,status:"SBMT"},a={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")},body:JSON.stringify(n)},t.next=4,fetch("/api/articles/admin/ALL/".concat(e.id,"/"),a);case 4:if(!1!==(c=t.sent).ok){t.next=8;break}t.next=12;break;case 8:return t.next=10,c.json();case 10:t.sent,e.removeBlog(e.id,e.adminArticles,e.setAdminArticles);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(p.jsx)("div",{children:Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"ownblog-card-container",children:[Object(p.jsx)("div",{className:"blog-card-img-container",children:Object(p.jsx)("img",{className:"blog-card-img",src:e.image,alt:""})}),Object(p.jsxs)("div",{className:"blog-card-text-container",children:[Object(p.jsx)("p",{className:"blog-card-category",children:e.category}),Object(p.jsx)("h2",{className:"blog-card-title",children:e.title}),Object(p.jsx)("p",{className:"blog-card-author",children:e.author})]}),Object(p.jsx)("div",{className:"ownblog-edit-btn-container",children:Object(p.jsx)("button",{className:"btn btn-danger ownblog-btn",onClick:function(){return t.apply(this,arguments)},children:"Reverse Publication"})})]})})})}));n(83);function I(e){var t,n=Object(a.useState)([]),c=Object(j.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)("ALL"),i=Object(j.a)(o,2),l=i[0],u=i[1];function h(){return h=Object(b.a)(d.a.mark((function e(){var t,n,a,c,s=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"ALL",n={method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")}},e.next=4,fetch("/api/articles/admin/".concat(t),n);case 4:if(!1!==(a=e.sent).ok){e.next=9;break}console.log("FAILED",a),e.next=13;break;case 9:return e.next=11,a.json();case 11:c=e.sent,r(c);case 13:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}return Object(a.useEffect)((function(){!function(){h.apply(this,arguments)}(l)}),[l]),"SBMT"==l?t=s.map((function(t){return Object(p.jsx)(R,Object(x.a)(Object(x.a)({},t),{},{removeBlog:e.removeBlog,adminArticles:s,setAdminArticles:r}))})):"ALL"==l||"DFT"==l?t=s.map((function(e){return Object(p.jsx)(k,Object(x.a)({},e))})):"RJT"==l?t=s.map((function(t){return Object(p.jsx)(D,Object(x.a)(Object(x.a)({},t),{},{removeBlog:e.removeBlog,adminArticles:s,setAdminArticles:r}))})):"PBLH"==l&&(t=s.map((function(t){return Object(p.jsx)(L,Object(x.a)(Object(x.a)({},t),{},{removeBlog:e.removeBlog,adminArticles:s,setAdminArticles:r}))}))),Object(p.jsxs)("div",{className:"admin-blog-list-container",children:[Object(p.jsx)("form",{className:"form-control",children:Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{HTMLfor:"status",children:"Filter Articles by Status:"}),Object(p.jsxs)("select",{id:"status",className:"form-select",onChange:function(e){u(e.target.value)},value:l,children:[Object(p.jsx)("option",{value:"ALL",selected:!0,children:"All"}),Object(p.jsx)("option",{value:"DFT",children:"Draft"}),Object(p.jsx)("option",{value:"SBMT",children:"Submitted"}),Object(p.jsx)("option",{value:"PBLH",children:"Published"}),Object(p.jsx)("option",{value:"RJT",children:"Rejected"})]})]})}),Object(p.jsx)("div",{className:"ownblogs-list-container",children:t})]})}var G=function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),r=Object(j.a)(s,2),o=r[0],l=r[1],u=(Object(f.g)(),Object(a.useState)(!1)),h=Object(j.a)(u,2),x=h[0],y=h[1],k=Object(a.useState)(null),S=Object(j.a)(k,2),w=S[0],T=S[1],R=Object(a.useState)({username:"",email:""}),D=Object(j.a)(R,2),L=D[0],G=D[1];function U(){return(U=Object(b.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")}},e.next=3,fetch("/api/articles/",t);case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,!1===n.ok||l(a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(b.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",header:{"Content-Type":"application/json","X-CSRFToken":"csrftoken"}},e.next=3,fetch("/rest-auth/user/",t);case 3:if(!1!==(n=e.sent).ok){e.next=8;break}console.log("FAILED",n),e.next=14;break;case 8:return e.next=10,n.json();case 10:a=e.sent,console.log("success grabbing details",a),G({username:a.username,email:a.email}),!0!==a.is_staff&&!0!==a.is_superuser||y(!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t,n){var a=t.findIndex((function(t){return t.id===e})),c=Object(i.a)(t);c.splice(a,1),n(c)}function X(){return(X=Object(b.a)(d.a.mark((function e(t,n){var a,c,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.popularity_score+1,c={title:n.title,body:n.body,category:n.category,popularity_score:a},s={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")},body:JSON.stringify(c)},e.next=5,fetch("/api/articles/".concat(t,"/"),s);case 5:if(!1!==(r=e.sent).ok){e.next=10;break}console.log("POP SCORE UPDATE FAIL"),e.next=13;break;case 10:return e.next=12,r.json();case 12:e.sent;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/rest-auth/user/");case 2:!1===e.sent.ok?c(!1):c(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){!function(){U.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){!function(){J.apply(this,arguments)}()}),[n]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(g,{currentBlogs:o,isAuth:n,setFilter:T,setIsAuth:c,isAdmin:x,setIsAdmin:y}),Object(p.jsxs)(f.d,{children:[Object(p.jsx)(f.b,{path:"/registration",children:Object(p.jsx)(F,{isAuth:n,setIsAuth:c})}),Object(p.jsx)(f.b,{path:"/profile",children:Object(p.jsx)(E,{userDetails:L})}),Object(p.jsx)(f.b,{path:"/admin/portal",children:Object(p.jsx)(I,{removeBlog:M})}),Object(p.jsx)(f.b,{path:"/account/blogs/create",children:Object(p.jsx)(C,{})}),Object(p.jsx)(f.b,{path:"/account/blogs/drafts",children:Object(p.jsx)(v,{removeBlog:M})}),Object(p.jsx)(f.b,{path:"/login",children:Object(p.jsx)(B,{isAuth:n,setIsAuth:c})}),Object(p.jsx)(f.b,{path:"/logout",children:Object(p.jsx)(B,{isAuth:n,setIsAuth:c})}),Object(p.jsx)(f.b,{path:"/blogs/detail/:id",children:Object(p.jsx)(P,{})}),Object(p.jsx)(f.b,{path:"/account/blogs/detail/:id",children:Object(p.jsx)(N,{})}),Object(p.jsx)(f.b,{path:"/",children:Object(p.jsx)(A,{setFilter:T,filteredBlogs:function(){return w&&"All"!==w?o.filter((function(e){return e.category===w})):o},currentBlogs:o,updatePopularityScore:function(e,t){return X.apply(this,arguments)}})})]}),Object(p.jsx)(O,{})]})};r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(o.a,{children:Object(p.jsx)(G,{})})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.036f418e.chunk.js.map