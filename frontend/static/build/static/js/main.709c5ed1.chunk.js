(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{53:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(31),r=a.n(s),o=a(8),i=(a(38),a(39),a(52),a(53),a(2)),l=a.n(i),j=a(4),d=a(5),b=(a(55),a(3)),u=a.n(b),h=(a(56),a(0));function m(e){var t,a,n,c,s,r=new Date,i=[r.getMonth(),r.getDate(),r.getFullYear()],d=i[1],b=i[2];function m(){return(m=Object(j.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":u.a.get("csrftoken")},body:JSON.stringify({})},t.next=3,fetch("/rest-auth/logout/",a);case 3:if(n=t.sent){t.next=8;break}console.log(n),t.next=14;break;case 8:return console.log(n),t.next=11,n.json();case 11:t.sent,u.a.remove("Authorization"),e.setIsAuth(!1);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}switch(i[0]+1){case 1:t="January";break;case 2:t="February";break;case 3:t="March";break;case 4:t="April";break;case 5:t="May";break;case 6:t="June";break;case 7:t="July";break;case 8:t="August";break;case 9:t="September";break;case 10:t="October";break;case 11:t="November";break;case 12:t="December"}return!0===e.isAuth?(n=Object(h.jsx)("li",{className:"nav-item",onClick:function(){return m.apply(this,arguments)},children:Object(h.jsx)(o.b,{className:"nav-link",to:"/logout",children:"Logout"})}),!0===e.isAdmin?s=Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(o.b,{className:"nav-link",to:"/admin/portal",children:"Admin Portal"})})}):c=Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(o.b,{className:"nav-link",to:"/profile",children:"Profile"})})):a=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(o.b,{className:"nav-link",to:"/login",children:"Login"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(o.b,{className:"nav-link",to:"/registration",children:"Registration"})})]}),Object(h.jsxs)("div",{className:"header-container",children:[Object(h.jsx)("h1",{className:"newspaper-name",children:"The Gartholomew Gazette"}),Object(h.jsxs)("h2",{className:"header-date",children:[t,", ",d," ",b," "]}),Object(h.jsx)("div",{className:"collpase navbar-collapse ",id:"navbarResponsive",children:Object(h.jsxs)("ul",{className:"navbar-nav nav-container",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(o.b,{className:"nav-link",style:"",to:"/",children:"Home"})}),c,a,s,n]})})]})}function p(){return Object(h.jsx)("div",{})}var g=a(6),x=(a(66),a(7));var O=Object(x.h)((function(e){function t(){return(t=Object(j.a)(l.a.mark((function t(){var a,n,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={title:e.title,body:e.body,category:e.category,status:"SBMT"},n={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":u.a.get("csrftoken")},body:JSON.stringify(a)},t.next=4,fetch("/api/articles/mydrafts/".concat(e.id),n);case 4:if(!1!==(c=t.sent).ok){t.next=9;break}console.log("SUBMIT FOR REVIEW FAILED",c),t.next=13;break;case 9:return t.next=11,c.json();case 11:s=t.sent,console.log("Success for submit for review",s);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsx)("div",{children:Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"ownblog-card-container",children:[Object(h.jsx)("div",{className:"blog-card-img-container",children:Object(h.jsx)("img",{className:"blog-card-img",src:e.image,alt:""})}),Object(h.jsxs)("div",{className:"blog-card-text-container",children:[Object(h.jsx)("p",{className:"blog-card-category",children:e.category}),Object(h.jsx)("h2",{className:"blog-card-title",children:e.title}),Object(h.jsx)("p",{className:"blog-card-author",children:e.author})]}),Object(h.jsxs)("div",{className:"ownblog-edit-btn-container",children:[Object(h.jsx)("button",{className:"btn btn-warning ownblog-btn",onClick:function(){console.log("hey"),e.history.push("/account/blogs/detail/".concat(e.id))},children:"Edit"}),Object(h.jsx)("button",{className:"btn btn-success ownblog-btn",onClick:function(){!function(){t.apply(this,arguments)}(),e.history.push("/account/blogs/drafts/")},children:"Final Submit"})]})]})})})}));a(67);function f(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1];function s(){return(s=Object(j.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":u.a.get("csrftoken")}},e.next=3,fetch("/api/articles/mydrafts/",t);case 3:if(!1!==(a=e.sent).ok){e.next=8;break}console.log("FAILED",a),e.next=12;break;case 8:return e.next=10,a.json();case 10:n=e.sent,c(n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){s.apply(this,arguments)}()}),[]),0===a.length?Object(h.jsx)("h1",{className:"no-current-drafts-heading",children:"No Current Drafts"}):Object(h.jsx)("div",{className:"ownblogs-list-container",children:a.map((function(e){return Object(h.jsx)(O,Object(g.a)({},e))}))})}a(68);var y=Object(x.h)((function(e){var t=Object(n.useState)({id:null,author:"",title:"",body:"",category:"",image:"",status:""}),a=Object(d.a)(t,2),c=a[0],s=a[1],r=Object(x.g)(),o=e.match.params.id;function i(){return(i=Object(j.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":u.a.get("csrftoken")}},e.next=3,fetch("/api/articles/mydrafts/".concat(o),t);case 3:if(!1!==(a=e.sent).ok){e.next=8;break}console.log("Detail Failed",a),e.next=13;break;case 8:return e.next=10,a.json();case 10:n=e.sent,console.log("success",n),s({id:n.id,author:n.author,title:n.title,body:n.body,image:"",category:n.category,status:n.status});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){var t=Object(g.a)({},c);t[e.target.id]=e.target.value,s(t),console.log(c.image)}function m(){return(m=Object(j.a)(l.a.mark((function e(t){var a,n,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("id",c.id),a.append("author",c.author),a.append("title",c.title),a.append("body",c.body),a.append("category",c.category),a.append("status",c.status),""!==c.image&&a.append("image",c.image),n={method:"PUT",headers:{"X-CSRFToken":u.a.get("csrftoken")},body:a},e.next=12,fetch("/api/articles/mydrafts/".concat(o,"/"),n);case 12:if(!1!==(s=e.sent).ok){e.next=17;break}console.log("EDIT POST FAILED",s),e.next=22;break;case 17:return e.next=19,s.json();case 19:i=e.sent,console.log("EDIT SUCCESS",i),r.push("/account/blogs/drafts");case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),Object(h.jsx)("div",{className:"edit-post-form-container",children:Object(h.jsxs)("form",{className:"form-control",onSubmit:function(e){return m.apply(this,arguments)},children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"title",children:"Title"}),Object(h.jsx)("input",{className:"form-control",type:"text",id:"title",placeholder:"Enter Title..",onChange:b,value:c.title,name:"title"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"body",children:"Body"}),Object(h.jsx)("textarea",{className:"form-control",id:"body",placeholder:"Enter Body..",onChange:b,value:c.body,name:"body"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"image",children:"Image"}),Object(h.jsx)("input",{className:"form-control",type:"file",id:"image",onChange:function(e){var t=e.target.files[0];Object(g.a)({},c)[e.target.id]=t,(new FileReader).readAsDataURL(t)},name:"image"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"category",children:"Category"}),Object(h.jsxs)("select",{className:"form-control",id:"category",onChange:b,value:c.category,name:"category",children:[Object(h.jsx)("option",{value:"General Science",children:"General Science"}),Object(h.jsx)("option",{value:"Geology",children:"Geology"}),Object(h.jsx)("option",{value:"Soil Science",children:"Soil Science"}),Object(h.jsx)("option",{value:"Hydrology",children:"Hydrology"}),Object(h.jsx)("option",{value:"Mineralogy",children:"Mineralology"}),Object(h.jsx)("option",{value:"Petrology",children:"Petrology"}),Object(h.jsx)("option",{value:"Sedimentology",children:"Sedimentology"}),Object(h.jsx)("option",{value:"Volcanology",children:"Volcanology"}),Object(h.jsx)("option",{value:"General Tectonics",children:"General Tectonics"})]})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit New Draft"})]})})})),v=a(15);a(69);function N(e){return Object(h.jsx)("div",{children:Object(h.jsx)(o.b,{to:"/blogs/detail/".concat(e.id),className:"nav-link-container",children:Object(h.jsxs)("div",{className:"blog-card-container",children:[Object(h.jsx)("div",{className:"blog-card-img-container",children:Object(h.jsx)("img",{className:"blog-card-img",src:e.image,alt:""})}),Object(h.jsxs)("div",{className:"blog-card-text-container",children:[Object(h.jsx)("p",{className:"blog-card-category",children:e.category}),Object(h.jsx)("h2",{className:"blog-card-title",children:e.title}),Object(h.jsx)("p",{className:"blog-card-author",children:e.author})]})]})})})}a(70);function k(e){var t=e.filteredBlogs();return console.log(t),Object(h.jsx)("div",{className:"blog-post-list-container",children:t.map((function(e){return Object(h.jsx)(N,Object(g.a)({},e))}))})}a(71),a(72);function S(e){return Object(h.jsxs)("div",{className:"aside-item-container",children:[Object(h.jsx)("div",{className:"aside-item-img-container",children:Object(h.jsx)("img",{className:"aside-item-img",src:e.image,alt:""})}),Object(h.jsxs)("div",{className:"aside-item-text-container",children:[Object(h.jsx)("p",{className:"aside-item-category",children:e.category}),Object(h.jsx)("h2",{className:"aside-item-title",children:e.title}),Object(h.jsx)("p",{className:"aside-item-author",children:e.author})]})]})}function w(e){var t=Object(v.a)(e.currentBlogs).sort((function(e,t){return e.popularity_score>t.popularity_score?-1:e.popularity_score<t.popularity_score?1:0}));return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"aside-container",children:[Object(h.jsx)("h2",{className:"aside-heading",children:"Popular Posts"}),t.map((function(e){return Object(h.jsx)(S,Object(g.a)({},e))}))]})})}function T(){var e=Object(n.useState)({title:"",body:"",image:null,category:"General Science"}),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),r=Object(d.a)(s,2),o=(r[0],r[1]);function i(e){var t=Object(g.a)({},a);t[e.target.id]=e.target.value,c(t),console.log(a)}function b(){return(b=Object(j.a)(l.a.mark((function e(t){var n,s,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),alert("hey"),(n=new FormData).append("title",a.title),n.append("body",a.body),n.append("image",a.image),n.append("category",a.category),s={method:"POST",headers:{"X-CSRFToken":u.a.get("csrftoken")},body:n},e.next=10,fetch("/api/articles/",s);case 10:return r=e.sent,e.next=13,r.json();case 13:o=e.sent,!1===r.ok?(console.log("r",r),console.log("d",o)):(console.log("SUCCESS",o),c((function(){return{title:"",body:"",image:null,category:"General Science"}})));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{className:"form-control",onSubmit:function(e){return b.apply(this,arguments)},children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"title",children:"Title"}),Object(h.jsx)("input",{className:"form-control",type:"text",id:"title",placeholder:"Enter Title..",onChange:i,value:a.title,name:"title"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"body",children:"Body"}),Object(h.jsx)("textarea",{className:"form-control",id:"body",placeholder:"Enter Body..",onChange:i,value:a.body,name:"body"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"image",children:"Image"}),Object(h.jsx)("input",{className:"form-control",type:"file",id:"image",onChange:function(e){var t=Object(g.a)({},a),n=e.target.files[0];t.image=n,c(t);var s=new FileReader;s.onloadend=function(){o(s.result)},s.readAsDataURL(n)},name:"image"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"category",children:"Category"}),Object(h.jsxs)("select",{className:"form-control",id:"category",onChange:i,value:a.category,name:"category",children:[Object(h.jsx)("option",{value:"General Science",children:"General Science"}),Object(h.jsx)("option",{value:"Geology",children:"Geology"}),Object(h.jsx)("option",{value:"Soil Science",children:"Soil Science"}),Object(h.jsx)("option",{value:"Hydrology",children:"Hydrology"}),Object(h.jsx)("option",{value:"Mineralogy",children:"Mineralology"}),Object(h.jsx)("option",{value:"Petrology",children:"Petrology"}),Object(h.jsx)("option",{value:"Sedimentology",children:"Sedimentology"}),Object(h.jsx)("option",{value:"Volcanology",children:"Volcanology"}),Object(h.jsx)("option",{value:"General Tectonics",children:"General Tectonics"})]})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit New Draft"})]})})}a(73);function C(e){var t=new Set;function a(t){e.setFilter(t.target.innerHTML)}return e.currentBlogs.map((function(e){t.add(e.category)})),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"header-category-container",children:[Object(h.jsx)("a",{className:"header-category",value:null,onClick:a,children:"All"}),Object(v.a)(t).map((function(e){return Object(h.jsx)("a",{className:"header-category",value:e,onClick:a,children:e})}))]}),Object(h.jsxs)("div",{className:"main-container",children:[Object(h.jsx)(k,{currentBlogs:e.currentBlogs,filteredBlogs:e.filteredBlogs}),Object(h.jsx)(w,{currentBlogs:e.currentBlogs})]})]})}a(74);var E=function(e){var t=Object(n.useState)({alias:"",avatar:null}),a=Object(d.a)(t,2),c=(a[0],a[1],Object(n.useState)("")),s=Object(d.a)(c,2);return s[0],s[1],Object(h.jsxs)("div",{className:"profile-container text-center row",children:[Object(h.jsxs)("div",{className:"profile-details-container",children:[Object(h.jsx)("h2",{className:"profile-details-heading",children:"PROFILE"}),Object(h.jsx)("h3",{className:"profile-details-subheading",children:"Username: "}),Object(h.jsx)("p",{children:e.userDetails.username}),Object(h.jsx)("h3",{className:"profile-details-subheading",children:"Email: "}),Object(h.jsx)("p",{children:e.userDetails.email})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(o.b,{to:"/account/blogs/create",children:Object(h.jsx)("button",{className:"btn btn-primary profile-btn",children:"Blog Submit Form"})}),Object(h.jsx)(o.b,{to:"/account/blogs/drafts",children:Object(h.jsx)("button",{className:"btn btn-primary profile-btn",children:"See My Drafts"})})]})]})};function F(e){var t=Object(n.useState)({username:"",email:"",password1:"",password2:""}),a=Object(d.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(null),o=Object(d.a)(r,2),i=o[0],b=o[1];function m(e){var t=Object(g.a)({},c);t[e.target.id]=e.target.value,s(t)}function p(){return(p=Object(j.a)(l.a.mark((function t(a){var n,s,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),c.password1===c.password2){t.next=5;break}b(!0),t.next=23;break;case 5:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":u.a.get("csrftoken")},body:JSON.stringify(c)},t.next=8,fetch("/rest-auth/registration/",n);case 8:if(!1!==(s=t.sent).ok){t.next=18;break}return t.next=12,s.json();case 12:(r=t.sent).username&&r.username.map((function(e){return console.log(e)})),r.email&&r.email.map((function(e){return console.log(e)})),r.password1&&r.password1.map((function(e){return console.log(e)})),t.next=23;break;case 18:return t.next=20,s.json();case 20:o=t.sent,u.a.set("Authorization","Token: ".concat(o.key)),e.setIsAuth(!0);case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.isAuth?Object(h.jsx)(x.a,{to:"/profile"}):Object(h.jsx)("div",{className:"registration-container",children:Object(h.jsxs)("form",{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(h.jsx)("input",{id:"username",className:"form-control",type:"text",placeholder:"Enter Username..",onChange:m,value:c.username})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(h.jsx)("input",{id:"email",className:"form-control",type:"email",placeholder:"Enter Email...",onChange:m,value:c.email})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"password1",children:"Password:"}),Object(h.jsx)("input",{id:"password1",className:"form-control",type:"password",placeholder:"Enter Password...",onChange:m,value:c.password1})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"password2",children:"Confirm Password:"}),Object(h.jsx)("input",{id:"password2",className:"form-control",type:"password",placeholder:"Enter Password...",onChange:m,value:c.password2}),i&&Object(h.jsx)("span",{className:"text-danger",children:"Passwords do not match"})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-success",children:"Register"})]})})}var A=function(e){var t=Object(n.useState)({username:"",password:""}),a=Object(d.a)(t,2),c=a[0],s=a[1];function r(e){var t=Object(g.a)({},c);t[e.target.id]=e.target.value,s(t)}function o(){return(o=Object(j.a)(l.a.mark((function t(a){var n,s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":u.a.get("csrftoken")},body:JSON.stringify(c)},t.next=4,fetch("/rest-auth/login/",n);case 4:if(!1!==(s=t.sent).ok){t.next=11;break}return t.next=8,s.json();case 8:t.sent,t.next=16;break;case 11:return t.next=13,s.json();case 13:r=t.sent,u.a.set("Authorization","Token ".concat(r.key)),e.setIsAuth(!0);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.isAuth?Object(h.jsx)(x.a,{to:"/"}):Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:function(e){return o.apply(this,arguments)},children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(h.jsx)("input",{value:c.username,className:"form-control",type:"text",id:"username",onChange:r,placeholder:"Enter Username.."})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(h.jsx)("input",{value:c.password,className:"form-control",type:"password",id:"password",onChange:r,placeholder:"Enter Password.."})]}),Object(h.jsx)("button",{type:"submit",children:"Login"})]})})};a(75);var D=Object(x.h)((function(e){var t=Object(n.useState)({id:null,author:"",title:"",body:"",category:"",image:"",status:""}),a=Object(d.a)(t,2),c=a[0],s=a[1],r=e.match.params.id;function o(){return(o=Object(j.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":u.a.get("csrftoken")}},e.next=3,fetch("/api/articles/".concat(r,"/"),t);case 3:if(!1!==(a=e.sent).ok){e.next=8;break}console.log("Detail Failed",a),e.next=13;break;case 8:return e.next=10,a.json();case 10:n=e.sent,console.log("success",n),s({id:n.id,author:n.author,title:n.title,body:n.body,category:n.category,image:n.image,status:n.status});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),Object(h.jsx)("div",{children:Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"blog-detail-card-container",children:[Object(h.jsx)("div",{className:"blog-card-img-container",children:Object(h.jsx)("img",{className:"blog-card-img",src:c.image,alt:""})}),Object(h.jsxs)("div",{className:"blog-card-text-container",children:[Object(h.jsx)("p",{className:"blog-card-category",children:c.category}),Object(h.jsx)("h2",{className:"blog-card-title",children:c.title}),Object(h.jsx)("p",{children:c.body}),Object(h.jsxs)("p",{className:"blog-card-author",children:["Author:",c.author]})]})]})})})}));var R=Object(x.h)((function(e){function t(){return(t=Object(j.a)(l.a.mark((function t(){var a,n,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={title:e.title,body:e.body,category:e.category,status:"RJT"},n={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":u.a.get("csrftoken")},body:JSON.stringify(a)},t.next=4,fetch("/api/articles/admin/ALL/".concat(e.id,"/"),n);case 4:if(!1!==(c=t.sent).ok){t.next=9;break}console.log("REJECTED FAILED",c),t.next=13;break;case 9:return t.next=11,c.json();case 11:s=t.sent,console.log("SUCCESS REJECTED",s);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function a(){return(a=Object(j.a)(l.a.mark((function t(){var a,n,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={title:e.title,body:e.body,category:e.category,status:"PBLH"},n={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":u.a.get("csrftoken")},body:JSON.stringify(a)},t.next=4,fetch("/api/articles/admin/ALL/".concat(e.id,"/"),n);case 4:if(!1!==(c=t.sent).ok){t.next=9;break}console.log("PUBLISHED FAILED",c),t.next=13;break;case 9:return t.next=11,c.json();case 11:s=t.sent,console.log("SUCCESS PUBLISHED",s);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsx)("div",{children:Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"ownblog-card-container",children:[Object(h.jsx)("div",{className:"blog-card-img-container",children:Object(h.jsx)("img",{className:"blog-card-img",src:e.image,alt:""})}),Object(h.jsxs)("div",{className:"blog-card-text-container",children:[Object(h.jsx)("p",{className:"blog-card-category",children:e.category}),Object(h.jsx)("h2",{className:"blog-card-title",children:e.title}),Object(h.jsx)("p",{className:"blog-card-author",children:e.author})]}),Object(h.jsxs)("div",{className:"ownblog-edit-btn-container",children:[Object(h.jsx)("button",{className:"btn btn-danger ownblog-btn",onClick:function(){return t.apply(this,arguments)},children:"Reject"}),Object(h.jsx)("button",{className:"btn btn-success ownblog-btn",onClick:function(){return a.apply(this,arguments)},children:"Publish"})]})]})})})}));var L=Object(x.h)((function(e){function t(){return(t=Object(j.a)(l.a.mark((function t(){var a,n,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={title:e.title,body:e.body,category:e.category,status:"SBMT"},n={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":u.a.get("csrftoken")},body:JSON.stringify(a)},t.next=4,fetch("/api/articles/admin/ALL/".concat(e.id,"/"),n);case 4:if(!1!==(c=t.sent).ok){t.next=9;break}console.log("REJECTED FAILED",c),t.next=13;break;case 9:return t.next=11,c.json();case 11:s=t.sent,console.log("SUCCESS REJECTED",s);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsx)("div",{children:Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"ownblog-card-container",children:[Object(h.jsx)("div",{className:"blog-card-img-container",children:Object(h.jsx)("img",{className:"blog-card-img",src:e.image,alt:""})}),Object(h.jsxs)("div",{className:"blog-card-text-container",children:[Object(h.jsx)("p",{className:"blog-card-category",children:e.category}),Object(h.jsx)("h2",{className:"blog-card-title",children:e.title}),Object(h.jsx)("p",{className:"blog-card-author",children:e.author})]}),Object(h.jsx)("div",{className:"ownblog-edit-btn-container",children:Object(h.jsx)("button",{className:"btn btn-danger ownblog-btn",onClick:function(){return t.apply(this,arguments)},children:"Reverse Rejection"})})]})})})}));var P=Object(x.h)((function(e){function t(){return(t=Object(j.a)(l.a.mark((function t(){var a,n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={title:e.title,body:e.body,category:e.category,status:"SBMT"},n={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":u.a.get("csrftoken")},body:JSON.stringify(a)},t.next=4,fetch("/api/articles/admin/ALL/".concat(e.id,"/"),n);case 4:if(!1!==(c=t.sent).ok){t.next=8;break}t.next=11;break;case 8:return t.next=10,c.json();case 10:t.sent;case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsx)("div",{children:Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"ownblog-card-container",children:[Object(h.jsx)("div",{className:"blog-card-img-container",children:Object(h.jsx)("img",{className:"blog-card-img",src:e.image,alt:""})}),Object(h.jsxs)("div",{className:"blog-card-text-container",children:[Object(h.jsx)("p",{className:"blog-card-category",children:e.category}),Object(h.jsx)("h2",{className:"blog-card-title",children:e.title}),Object(h.jsx)("p",{className:"blog-card-author",children:e.author})]}),Object(h.jsx)("div",{className:"ownblog-edit-btn-container",children:Object(h.jsx)("button",{className:"btn btn-danger ownblog-btn",onClick:function(){return t.apply(this,arguments)},children:"Reverse Publication"})})]})})})}));a(76);function B(){var e,t=Object(n.useState)([]),a=Object(d.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)("ALL"),o=Object(d.a)(r,2),i=o[0],b=o[1];function m(){return m=Object(j.a)(l.a.mark((function e(){var t,a,n,c,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"ALL",a={method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":u.a.get("csrftoken")}},e.next=4,fetch("/api/articles/admin/".concat(t),a);case 4:if(!1!==(n=e.sent).ok){e.next=9;break}console.log("FAILED",n),e.next=13;break;case 9:return e.next=11,n.json();case 11:c=e.sent,s(c);case 13:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}return Object(n.useEffect)((function(){!function(){m.apply(this,arguments)}(i)}),[i]),"SBMT"==i?e=c.map((function(e){return Object(h.jsx)(R,Object(g.a)({},e))})):"ALL"==i||"DFT"==i?e=c.map((function(e){return Object(h.jsx)(N,Object(g.a)({},e))})):"RJT"==i?e=c.map((function(e){return Object(h.jsx)(L,Object(g.a)({},e))})):"PBLH"==i&&(e=c.map((function(e){return Object(h.jsx)(P,Object(g.a)({},e))}))),Object(h.jsxs)("div",{className:"admin-blog-list-container",children:[Object(h.jsx)("form",{className:"form-control",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{HTMLfor:"status",children:"Filter Articles by Status:"}),Object(h.jsxs)("select",{id:"status",className:"form-select",onChange:function(e){b(e.target.value)},value:i,children:[Object(h.jsx)("option",{value:"ALL",selected:!0,children:"All"}),Object(h.jsx)("option",{value:"DFT",children:"Draft"}),Object(h.jsx)("option",{value:"SBMT",children:"Submitted"}),Object(h.jsx)("option",{value:"PBLH",children:"Published"}),Object(h.jsx)("option",{value:"RJT",children:"Rejected"})]})]})}),Object(h.jsx)("div",{className:"ownblogs-list-container",children:e})]})}var I=function(){var e=Object(n.useState)(),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(d.a)(s,2),o=r[0],i=r[1],b=(Object(x.g)(),Object(n.useState)(!1)),g=Object(d.a)(b,2),O=g[0],v=g[1],N=Object(n.useState)(null),k=Object(d.a)(N,2),S=k[0],w=k[1],R=Object(n.useState)({username:"",email:""}),L=Object(d.a)(R,2),P=L[0],I=L[1];function G(){return(G=Object(j.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":u.a.get("csrftoken")}},e.next=3,fetch("/api/articles/",t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,!1===a.ok||i(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(j.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",header:{"Content-Type":"application/json","X-CSRFToken":"csrftoken"}},e.next=3,fetch("/rest-auth/user/",t);case 3:if(!1!==(a=e.sent).ok){e.next=8;break}console.log("FAILED",a),e.next=14;break;case 8:return e.next=10,a.json();case 10:n=e.sent,console.log("success grabbing details",n),I({username:n.username,email:n.email}),!0!==n.is_staff&&!0!==n.is_superuser||v(!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/rest-auth/user/");case 2:!1===e.sent.ok?c(!1):c(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(n.useEffect)((function(){!function(){G.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){!function(){U.apply(this,arguments)}()}),[a]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m,{currentBlogs:o,isAuth:a,setFilter:w,setIsAuth:c,isAdmin:O}),Object(h.jsxs)(x.d,{children:[Object(h.jsx)(x.b,{path:"/registration",children:Object(h.jsx)(F,{isAuth:a,setIsAuth:c})}),Object(h.jsx)(x.b,{path:"/profile",children:Object(h.jsx)(E,{userDetails:P})}),Object(h.jsx)(x.b,{path:"/admin/portal",children:Object(h.jsx)(B,{})}),Object(h.jsx)(x.b,{path:"/account/blogs/create",children:Object(h.jsx)(T,{})}),Object(h.jsx)(x.b,{path:"/account/blogs/drafts",children:Object(h.jsx)(f,{})}),Object(h.jsx)(x.b,{path:"/login",children:Object(h.jsx)(A,{isAuth:a,setIsAuth:c})}),Object(h.jsx)(x.b,{path:"/logout",children:Object(h.jsx)(A,{isAuth:a,setIsAuth:c})}),Object(h.jsx)(x.b,{path:"/blogs/detail/:id",children:Object(h.jsx)(D,{})}),Object(h.jsx)(x.b,{path:"/account/blogs/detail/:id",children:Object(h.jsx)(y,{})}),Object(h.jsx)(x.b,{path:"/",children:Object(h.jsx)(C,{setFilter:w,filteredBlogs:function(){return S&&"All"!==S?o.filter((function(e){return e.category===S})):o},currentBlogs:o})})]}),Object(h.jsx)(p,{})]})};r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(o.a,{children:Object(h.jsx)(I,{})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.709c5ed1.chunk.js.map